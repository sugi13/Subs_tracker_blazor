@page "/add-subscription"
@using System.ComponentModel.DataAnnotations;
@using Subscription_tracker.components
@inject NavigationManager Nav;
@inject SubscriptionService SubscriptionService;



<SubscriptionForm Model="newSubscription" ButtonText="Add Subscription" onSubmit="Add"/>


@code {
    Subscription newSubscription = new() { Subs_name = "", Subs_plan = "", Subs_amount = 0 };
    
       List<string> plans = new()
    {
        "Monthly",
        "Yearly"
    };
    
    private async Task Add() {
        await SubscriptionService.AddSubscription(newSubscription);
        Nav.NavigateTo("/");
    }
}